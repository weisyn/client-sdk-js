# é›†æˆæµ‹è¯•

**ç‰ˆæœ¬**ï¼š0.1.0-alpha  
**æœ€åæ›´æ–°**ï¼š2025-11-17

---

## ğŸ“‹ æ¦‚è¿°

é›†æˆæµ‹è¯•éœ€è¦è¿æ¥åˆ°çœŸå®çš„ WES èŠ‚ç‚¹æ‰èƒ½æ‰§è¡Œã€‚è¿™äº›æµ‹è¯•éªŒè¯ SDK ä¸èŠ‚ç‚¹çš„ç«¯åˆ°ç«¯äº¤äº’ã€‚

---

## ğŸš€ è¿è¡Œé›†æˆæµ‹è¯•

### å‰ç½®æ¡ä»¶

1. **å¯åŠ¨ WES èŠ‚ç‚¹**
   ```bash
   cd /Users/qinglong/go/src/chaincodes/WES/weisyn.git
   bash scripts/testing/common/test_init.sh
   ```

2. **è®¾ç½®ç¯å¢ƒå˜é‡**ï¼ˆå¯é€‰ï¼‰
   ```bash
   export WES_NODE_ENDPOINT=http://localhost:8080/jsonrpc
   ```

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆåŒ…æ‹¬é›†æˆæµ‹è¯•ï¼‰
npm test

# åªè¿è¡Œé›†æˆæµ‹è¯•
npm test -- tests/integration

# è·³è¿‡é›†æˆæµ‹è¯•ï¼ˆåªè¿è¡Œå•å…ƒæµ‹è¯•ï¼‰
SKIP_INTEGRATION_TESTS=true npm test
```

---

## ğŸ“ æµ‹è¯•æ–‡ä»¶

- `setup.ts` - é›†æˆæµ‹è¯•å·¥å…·å‡½æ•°
- `token.integration.test.ts` - Token Service é›†æˆæµ‹è¯•
- `staking.integration.test.ts` - Staking Service é›†æˆæµ‹è¯•

---

## ğŸ”§ æµ‹è¯•å·¥å…·å‡½æ•°

### `setupTestClient(config?)`

åˆ›å»ºå¹¶éªŒè¯æµ‹è¯•å®¢æˆ·ç«¯è¿æ¥ã€‚

### `teardownTestClient(client)`

æ¸…ç†æµ‹è¯•å®¢æˆ·ç«¯è¿æ¥ã€‚

### `createTestWallet()`

åˆ›å»ºæ–°çš„æµ‹è¯•é’±åŒ…ã€‚

### `fundTestAccount(client, address, amount?)`

ä¸ºæµ‹è¯•è´¦æˆ·å……å€¼ï¼ˆé€šè¿‡æŒ–çŸ¿ï¼‰ã€‚

### `getTestAccountBalance(client, address, tokenId?)`

æŸ¥è¯¢è´¦æˆ·ä½™é¢ã€‚

### `ensureNodeRunning(config?)`

ç¡®ä¿èŠ‚ç‚¹æ­£åœ¨è¿è¡Œï¼ˆå¦åˆ™æŠ›å‡ºé”™è¯¯ï¼‰ã€‚

### `waitForTransactionConfirmation(client, txHash, timeout?)`

ç­‰å¾…äº¤æ˜“ç¡®è®¤ã€‚

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **èŠ‚ç‚¹å¿…é¡»è¿è¡Œ**ï¼šé›†æˆæµ‹è¯•éœ€è¦çœŸå®çš„èŠ‚ç‚¹è¿æ¥
2. **æµ‹è¯•æ—¶é—´è¾ƒé•¿**ï¼šé›†æˆæµ‹è¯•å¯èƒ½éœ€è¦ç­‰å¾…äº¤æ˜“ç¡®è®¤ï¼Œå»ºè®®è®¾ç½®è¾ƒé•¿çš„è¶…æ—¶æ—¶é—´
3. **æµ‹è¯•éš”ç¦»**ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åº”è¯¥ä½¿ç”¨ç‹¬ç«‹çš„é’±åŒ…ï¼Œé¿å…ç›¸äº’å½±å“
4. **ç¯å¢ƒå˜é‡**ï¼šå¯ä»¥é€šè¿‡ `WES_NODE_ENDPOINT` ç¯å¢ƒå˜é‡æŒ‡å®šèŠ‚ç‚¹ç«¯ç‚¹

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å•å…ƒæµ‹è¯•](../README.md) - å•å…ƒæµ‹è¯•è¯´æ˜
- [æµ‹è¯•è®¾ç½®](../setup.ts) - æµ‹è¯•ç¯å¢ƒè®¾ç½®

---

**æœ€åæ›´æ–°**: 2025-11-17

