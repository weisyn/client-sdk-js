# é¡¹ç›®ç»“æ„è¯´æ˜

**ç‰ˆæœ¬**ï¼š1.0  
**çŠ¶æ€**ï¼šstable  
**æœ€åæ›´æ–°**ï¼š2025-01-23  
**æ‰€æœ‰è€…**ï¼šWES SDK å›¢é˜Ÿ  
**é€‚ç”¨èŒƒå›´**ï¼šWES Client SDK (JS/TS) é¡¹ç›®ç»“æ„

---

æœ¬æ–‡æ¡£è¯´æ˜ WES Client SDK (JS/TS) çš„é¡¹ç›®ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
client-sdk-js/
â”‚
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.ts                 # å…¥å£æ–‡ä»¶ï¼Œå¯¼å‡ºæ‰€æœ‰å…¬å…± API
â”‚   â”‚
â”‚   â”œâ”€â”€ client/                  # æ ¸å¿ƒå®¢æˆ·ç«¯å±‚
â”‚   â”‚   â”œâ”€â”€ client.ts            # Client æ¥å£å®šä¹‰å’Œå·¥å‚å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ types.ts             # å®¢æˆ·ç«¯ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ config.ts            # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ errors.ts            # é”™è¯¯å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ http.ts              # HTTP å®¢æˆ·ç«¯å®ç°
â”‚   â”‚   â””â”€â”€ websocket.ts         # WebSocket å®¢æˆ·ç«¯å®ç°
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ token/               # Token æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ service.ts       # TokenService å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ types.ts         # Token æœåŠ¡ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ staking/             # Staking æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ service.ts       # StakingService å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ types.ts         # Staking æœåŠ¡ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ market/              # Market æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ service.ts       # MarketService å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ types.ts         # Market æœåŠ¡ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ governance/          # Governance æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ service.ts       # GovernanceService å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ types.ts         # Governance æœåŠ¡ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ resource/            # Resource æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ service.ts       # ResourceService å®ç°
â”‚   â”‚       â””â”€â”€ types.ts         # Resource æœåŠ¡ç±»å‹å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ wallet/                  # é’±åŒ…åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ wallet.ts            # Wallet ç±»å®ç°
â”‚   â”‚   â”œâ”€â”€ keystore.ts          # Keystore ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ types.ts              # Wallet ç±»å‹å®šä¹‰
â”‚   â”‚
â”‚   â””â”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ address.ts           # åœ°å€è½¬æ¢å·¥å…·
â”‚       â””â”€â”€ hex.ts                # åå…­è¿›åˆ¶è½¬æ¢å·¥å…·
â”‚
â”œâ”€â”€ examples/                    # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ simple-transfer/          # ç®€å•è½¬è´¦ç¤ºä¾‹
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ tests/                       # æµ‹è¯•ä»£ç 
â”‚
â”œâ”€â”€ dist/                        # æ„å»ºè¾“å‡ºï¼ˆgitignoreï¼‰
â”‚
â”œâ”€â”€ package.json                 # npm åŒ…é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ LICENSE                      # Apache-2.0 è®¸å¯è¯
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ PROJECT_STRUCTURE.md         # æœ¬æ–‡æ¡£
```

## ğŸ—ï¸ æ¶æ„å±‚æ¬¡

### 1. æ ¸å¿ƒå®¢æˆ·ç«¯å±‚ (`src/client/`)

**èŒè´£**ï¼šå°è£…ä¸ WES èŠ‚ç‚¹çš„åº•å±‚é€šä¿¡

- `client.ts` - Client æ¥å£å®šä¹‰å’Œå·¥å‚å‡½æ•°
- `types.ts` - ç±»å‹å®šä¹‰ï¼ˆClientConfig, Protocol, EventFilter ç­‰ï¼‰
- `http.ts` - HTTP å®¢æˆ·ç«¯å®ç°ï¼ˆä½¿ç”¨ axiosï¼‰
- `websocket.ts` - WebSocket å®¢æˆ·ç«¯å®ç°ï¼ˆä½¿ç”¨ wsï¼‰
- `config.ts` - é…ç½®ç®¡ç†å·¥å…·
- `errors.ts` - é”™è¯¯ç±»å®šä¹‰

### 2. ä¸šåŠ¡æœåŠ¡å±‚ (`src/services/`)

**èŒè´£**ï¼šæä¾›ä¸šåŠ¡è¯­ä¹‰æ¥å£ï¼Œå°è£…äº¤æ˜“æ„å»ºå’Œç­¾åæµç¨‹

æ¯ä¸ªæœåŠ¡åŒ…å«ï¼š
- `service.ts` - æœåŠ¡å®ç°ç±»
- `types.ts` - æœåŠ¡ç›¸å…³çš„ç±»å‹å®šä¹‰

**æœåŠ¡åˆ—è¡¨**ï¼š
- `token/` - Token è½¬è´¦ã€é“¸é€ ã€é”€æ¯ã€ä½™é¢æŸ¥è¯¢
- `staking/` - è´¨æŠ¼ã€è§£è´¨æŠ¼
- `market/` - å¸‚åœºç›¸å…³åŠŸèƒ½ï¼ˆæ‰˜ç®¡ã€äº¤æ¢ç­‰ï¼‰
- `governance/` - æ²»ç†ç›¸å…³åŠŸèƒ½ï¼ˆææ¡ˆã€æŠ•ç¥¨ç­‰ï¼‰
- `resource/` - èµ„æºç®¡ç†ï¼ˆéƒ¨ç½²ã€æŸ¥è¯¢ç­‰ï¼‰

### 3. é’±åŒ…å±‚ (`src/wallet/`)

**èŒè´£**ï¼šå¯†é’¥ç®¡ç†å’Œäº¤æ˜“ç­¾å

- `wallet.ts` - Wallet ç±»ï¼Œæä¾›å¯†é’¥ç®¡ç†å’Œç­¾ååŠŸèƒ½
- `keystore.ts` - Keystore ç®¡ç†å™¨ï¼Œæ”¯æŒåŠ å¯†å­˜å‚¨
- `types.ts` - Wallet ç›¸å…³ç±»å‹å®šä¹‰

### 4. å·¥å…·å‡½æ•°å±‚ (`src/utils/`)

**èŒè´£**ï¼šæä¾›é€šç”¨å·¥å…·å‡½æ•°

- `address.ts` - åœ°å€è½¬æ¢å’ŒéªŒè¯
- `hex.ts` - åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢

## ğŸ“¦ æ¨¡å—ä¾èµ–å…³ç³»

```
åº”ç”¨å±‚ (DApp/Explorer)
    â†“ ä½¿ç”¨
ä¸šåŠ¡æœåŠ¡å±‚ (services/)
    â†“ ä¾èµ–
æ ¸å¿ƒå®¢æˆ·ç«¯å±‚ (client/)
    â†“ è°ƒç”¨
WES èŠ‚ç‚¹ API (JSON-RPC/HTTP/WebSocket)

é’±åŒ…å±‚ (wallet/)
    â†“ ç‹¬ç«‹æ¨¡å—ï¼Œæä¾›ç­¾ååŠŸèƒ½
```

## ğŸ”„ ä¸ Go SDK çš„å¯¹åº”å…³ç³»

| Go SDK | JS/TS SDK | è¯´æ˜ |
|--------|----------|------|
| `client/client.go` | `src/client/client.ts` | å®¢æˆ·ç«¯æ¥å£ |
| `client/http.go` | `src/client/http.ts` | HTTP å®ç° |
| `client/websocket.go` | `src/client/websocket.ts` | WebSocket å®ç° |
| `services/token/` | `src/services/token/` | Token æœåŠ¡ |
| `services/staking/` | `src/services/staking/` | Staking æœåŠ¡ |
| `wallet/wallet.go` | `src/wallet/wallet.ts` | é’±åŒ…å®ç° |
| `utils/address.go` | `src/utils/address.ts` | åœ°å€å·¥å…· |

## ğŸ“ å¼€å‘çŠ¶æ€

### âœ… å·²å®Œæˆ

- [x] é¡¹ç›®ç›®å½•ç»“æ„
- [x] é…ç½®æ–‡ä»¶ï¼ˆpackage.json, tsconfig.jsonï¼‰
- [x] æ ¸å¿ƒå®¢æˆ·ç«¯æ¥å£å’Œç±»å‹å®šä¹‰
- [x] HTTP å®¢æˆ·ç«¯å®ç°ï¼ˆåŸºç¡€ï¼‰
- [x] WebSocket å®¢æˆ·ç«¯å®ç°ï¼ˆåŸºç¡€ï¼‰
- [x] ä¸šåŠ¡æœåŠ¡éª¨æ¶ï¼ˆToken, Staking, Market, Governance, Resourceï¼‰
- [x] é’±åŒ…éª¨æ¶
- [x] å·¥å…·å‡½æ•°ï¼ˆåœ°å€ã€åå…­è¿›åˆ¶è½¬æ¢ï¼‰
- [x] æ–‡æ¡£ï¼ˆREADME.md, PROJECT_STRUCTURE.mdï¼‰

### ğŸš§ å¾…å®ç°

- [ ] Token æœåŠ¡å®Œæ•´å®ç°
- [ ] Staking æœåŠ¡å®Œæ•´å®ç°
- [ ] Market æœåŠ¡å®Œæ•´å®ç°
- [ ] Governance æœåŠ¡å®Œæ•´å®ç°
- [ ] Resource æœåŠ¡å®Œæ•´å®ç°
- [ ] Wallet å®Œæ•´å®ç°ï¼ˆå¯†é’¥ç”Ÿæˆã€ç­¾åï¼‰
- [ ] Keystore å®Œæ•´å®ç°ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
- [ ] WebSocket äº‹ä»¶è®¢é˜…å®Œæ•´å®ç°
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] æ„å»ºé…ç½®ï¼ˆRollupï¼‰
- [ ] ç¤ºä¾‹ä»£ç å®ç°

## ğŸ¯ ä¸‹ä¸€æ­¥å·¥ä½œ

1. **å®ç°æ ¸å¿ƒåŠŸèƒ½**
   - å®Œæˆ Wallet çš„å¯†é’¥ç”Ÿæˆå’Œç­¾ååŠŸèƒ½
   - å®Œæˆ Token æœåŠ¡çš„è½¬è´¦åŠŸèƒ½
   - å®Œæˆ HTTP å®¢æˆ·ç«¯çš„å®Œæ•´å®ç°

2. **å®Œå–„ WebSocket**
   - å®ç°äº‹ä»¶è®¢é˜…çš„å®Œæ•´é€»è¾‘
   - å¤„ç†è¿æ¥é‡è¿æœºåˆ¶

3. **æµ‹è¯•å’Œæ–‡æ¡£**
   - ç¼–å†™å•å…ƒæµ‹è¯•
   - å®Œå–„ API æ–‡æ¡£
   - å®ç°ç¤ºä¾‹ä»£ç 

4. **æ„å»ºå’Œå‘å¸ƒ**
   - é…ç½® Rollup æ„å»º
   - é…ç½® CI/CD
   - å‘å¸ƒåˆ° npm

---

**æœ€åæ›´æ–°**: 2025-01-23

